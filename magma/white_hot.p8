pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
t=0
█fade=300
█spread=500
█starter=200
b={
	x=20,y=50,
	dx=5,dy=1,
	ax=0.1,ay=0.1,
	r=11
}

pal({
	[0]=0+128,
	7,
	10,
	9,
	14+128,
	9+128,
	8,
	8+128,
	2,
	2+128,
	5+128,
	5+128,
	5,
	6+128,
	0+128,
	0+128
}, 1)

function sqr(z) return z*z end

function dist(x1,y1,x2,y2)
	return sqrt(sqr(x2-x1) + sqr(y2-y1))
end

::♥::
rectfill(0,0,127,127,0)

t+=1/30

b.ax = 0.2*cos(t/2)

b.dx+=b.ax
b.dy+=b.ay
b.x+=b.dx
b.y+=b.dy

if (b.x-b.r<=0) b.dx=5*rnd(1)+1
if (b.x+b.r>=127) b.x = b.x%128 b.dx = -b.dx
if (b.y-b.r<=0) b.dy=5 
if (b.y+b.r>=127+b.r*1.2) then b.dy=0 b.y = b.y%(128+2) end

for i=1,█fade do
	x,y=rnd(128),rnd(128)
	
	c=sget(x,y)
	if c>=1 and c<=13 then
		c=c%14+1.5
	else
		c=0
	end
	if c<13 or flr(x)+flr(y)%2==0 then

		sset(x-1,y,c)
		sset(x+1,y,c)
		sset(x,y-1,c)
		sset(x,y+1,c)
	end
end

a={1,0,-1}

for i=1,█spread do
	x,y=rnd(128),rnd(128)
	kx,ky=a[flr(rnd(3))+1],a[flr(rnd(3))+1]
	c=sget(x+kx,y+ky)
	c2=sget(x,y+1)
	if c2>=1 and c2<=8 then
		c=c%14+1
		
		sset(x-1,y,c)
		sset(x+1,y,c)
		sset(x,y-1,c)
		--sset(x,y+1,c)
	elseif c2>=1 and c2<=13 and rnd(1)<0.25 then
		c2=c2%14+1
		sset(x-1,y,c2)
		sset(x+1,y,c2)
		sset(x,y-1,c2)
		sset(x,y+1,c2)
	end
end

for i=1,█starter do
	ang=rnd(1)
	r=rnd(b.r)
	x=cos(ang)*r+b.x
	y=sin(ang)*r+b.y
	
	sset(x-1,y,1)
	sset(x+1,y,1)
	sset(x,y-1,1)
	sset(x,y+1,1)
end

sspr(0,0,128,128,0,0)

flip() goto ♥
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000085500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000895550000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000085700009070000000000000000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000005050009a900000000000000000007070000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000500050aaa000000000000000009a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000009000000000000000009a9890000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000058500000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000585000000000000000000000000000000000000000000000000000a000000000000000000000000000000000
0000000000000000000000000000000000000005059a000000000000000000000000000000000000000000000000077a50000000000000000000000000000000
000000000000000000050000000000000000000000a7a00000000000000000000000000000000000000000000000787585000000000000000000000000000000
0000000000000000005050000000000000000000000a000000000000000000000000000000000000000000000000898950000000000000000000000000000000
000000000000000050500000000000000000000000000000000000000000000000000000000000000000000000050899a9000000000000505000000000000000
00000000000000000000000000000000009000000000000000000000000000000000000000000000000000000058559a90000000000000050000000000000000
0000000000000000000000000000000099a90000850000000000000000000000000000000000000000000000050509a900000000000000005000000000000000
000000000000000000000000000000099a9a00005850000000000000000000000000000000000000000000000050009000000000000000000000000000000000
0000000000000000000000000000009a9a7000000500000000000000000000000000000000000000000000000000000000000000000000000000000000050000
00000000000000000000000000000058a7a0a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000505000
000000000000000000000000000005850a7a00000000000000000000000000000000000000000000000000000000000000000000000000000000008085000000
0000000000000000000000000000585857a700000000005000000000000000000000000000000000000000000000000000000000000000000000089858500000
00000000000080000000000000000585059a00000000000000000000000000000000000000000000000000000000000000000000000000000000008985000000
0000070000009800000000000000007005a800000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000
00000070000000000000000000000787588880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000790000000000000050980000898858900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000009a9007000000000509598000080589870000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000090070700000000055a50000000000790000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000075000000000009000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000900757500000000005000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00008970008900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000007870898900000000000000000000000000000000000000000000000000000000000000000000000000000000000000700070900a0000000000000000000
000000900000750000000000000000000000000000000000000000000000000000000000000000000000000000000000a777000a9a9a7a000000000000000000
00000a80000005000000000000000000000000000000000000000000000000000000000000000000000000000000000a7a7770a7a7a7a9800000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007aa77a7a7a7a77a8980000000000000000
0000000000000007000000000000000700000000000000000000000000000000000000000000000000000000000077a7a977a7a7a7a97a8770a0000000000000
00000000009050707000000000000070000000000000000090000000000000000000000000000000000000000007777777977a7aaa979a77a79a000000000000
0009000000a0850705000000000075070a00000000000000890000000000000000000000000000000000000000777777777777a77a77a7aa7a99000000000000
009a000000700779705000000007a77aa0a00000000000000a00000000000000000000000000000000000000077777777777777777777a7aa9a9a0a000000000
00a900000777579785800000007a7a0858500000000000000000000000000000000000000000000000000000777777777777777777777797777a9a7900000000
00000000a7a795a85809000000099005855000000000000000000008500000000000000000000000000000007777777777777777777779a97a79a99a90000000
0005000089898595959a900085980000759500000000070000000085850000000000000000000000000000070777777777777777777a779aa79a998900000000
000050000098000a7a799088598980000985000000000a8500700098500000000000000000000000000000007077777777777777777777777a79989590000000
5000000000050000a7a9a905899800008a58500000000050000000009a000000800000000000000000000007077777777777777777a77777a7879a5759000000
000000000050509a7a0a900058770008a98550000000000000800000070000007500000000000000000000007777777777777777777a777a7898a9a99a900000
000000000985a9a90000900070a0508598980000000000000000070000000007a90000000000000000000000777777777777777777777aaaa9899a9899a00000
0000000005a980900009a907070505080980505a90000000000070700000000a9a90000000000000000000000777777777777777777797a7aa977789a9500000
000500000050000000a0950590000000000505a9a00000000000070050070700a90000000000000000000000077777777777777777797977a989a8a795970000
00005000000000007a0a000000000000000008a9000000000000700009008580000000000000000050000000707777777777777a77a77a9898989588989a7000
0000000000000007079000000000000000005a9a90000000050808005777585000050000000000758500000007077777777777777aa7a0a59589585989790700
0000000059a00000a9800000800500000005059985800000008000000a7a750000500000000007975800000000707777777777777a9505095950857a7aa87070
000000009a9000000985000007a00000000059a90000000000a0000057570000000500000000008585000000000775777777770a99585055a7a7a7a7a5758800
50000000a7a90000085850007a7a0000000585989000050000a50505858500000000000000000588500000000008570779798009a58585597aaaa99a97578500
500500070a9a900000859a9057a0000000085879895000500a7a500898850000000000000000005800000000000000700858000098585a9a5797999989955750
0000998000a700000000a9a57570500000099797550000059aa00000085050000000000000000000000000005000000005850000a089a9a5a599757898aa5750
500008900070700000050a0058000590009a95850580000500000000058588000000700000000000000000000000000000000000000a7899898958579aaaa575
0000000000a97a000000000000000a00000908005058000050005000095858000a0707005000000800000000000000000000000000a7a98797aa8589a9a89858
000000000a98a7a8000000000000000000005000050000000000007000998050a7a7a00000000000000000000000000000000000058a989a7a95a9a097a98a78
0050000007878a0505000050000008000000050a5050000750008007000590000a98a700000700900000009870000000000000005858557aa9a95a90a0a9a98a
0000000000985000000000080000a900000550a7a980000a890809a000000000098a8800005750570000098900000000000000000505505a7a9555aa7a9a9898
000000000005800000000000000a9a900805850a98580000985098800000000000098900058589a90000009800000000000aa0000000050985855597a7a9a9aa
00000000000870000000080087a7a90000880050858500005585888800000a000050900058589090000000059000000000aaa0000000809858089897aa95995a
000005000000a00000008500707a0050008000050850000000500895000000700005a00005a9070000000000000000000009a00000085589a050797a59599595
0000000000000000070850507a05000000980890909505050850808000005009958500000a7a90000000000000000000009a90000005555a0505a7a058989989
00000000000000007075850700595000000085050a80858550000988700505097950000050a0000000000000000000000009500070005a9758589a0505898705
00000000000000009958500000088a9000005850a7a050580000989857805057a800000005000000000000000000000000000587070a7a757589995000989850
0000000000000009999500000058a98500000507000500098000058898989507890000000050000000000000000000000000089755a9aaa95859aa0000858985
0000000000000000a99000000080a9a85009000000000000000007578089a9757000050005000900000050000000000000005075755898a57588790508505898
000000000000000509a9000000000a970000a0750000000080000585050a989a7a0850500000587000000050000000000005055889898980508987a089050a80
00000000000000005a9a70000000097000000707a000000500005958a0a78989a7898500800085a7000000000000000000005555989a980500087a7858909000
000000000000000000aa000000000057000000900000000000000085585a08859588900085085a9800000000000000000000585857a000a00009995580555000
00000000000000000009a0000000050000000000000000000000000575800958585050008a5a99898000000000000000000505a5a90000085050058509585000
0000000000000000009890000000000000000000000000000050005057579a950505050a957508980000000000000000000057aa9000009585000a585a980000
000000000000000000890000000000000000000000000000055000058500595050507009a95850800000000a000000000005057a700099800790a5a509898000
00000000000000000000000000000000000009a00000005005850000000000050509500095a598580000000000000000000058a7a00508007079979700000000
0000000000000000000000000000000500009a9a00000005055797005890000850989a005a590079099a0500000000000008858a088050800859787000000000
00000000000000000000000000000000000009a7a00000005059a9000980500505898000a570009a9989a7000005000075099a598888079a9500575700000000
000000000000000000000000000000000000000580000000580790000095000050080900a7570009a8989700005050855059a988988555a9a005059590000000
00000000000000000000000000000000000000585000000095007000000750000509909a0a8507008989a0000008005855589008808755589000a9a900000000
000000000000000000000000000000000000000585000007a05000000000a705589a9a897000707008980000008a88850585000708787889a505050000000000
00000000000000000000000000000a000000000a7000000a0007a00000000a585a7aa85807050900505500000009598050900000a989a98aa000595000000000
0000000000000000000000000007a70500070000a0000000000a00000000008587a7a5897050509585095085008585050585050a7a9a9a797000980000000000
0000000000000000000000000000855055757900000000000000000000000008850a000085750558500500000058505085905007a90587a89700800000000000
0000000000000000000000000000085555589a900000005000000000000000589050000008577aa59058000000a5750a585a09a0005058858000000000000000
00000000000000000000000000000505a585a9a9000005800000070000000000890980008580055950500000009757a785a59a90000500585000000000000000
00000000000000000000000000000000a9599a9a7a005888005070700009a5800008a00008000008a5000000098985089858599a08900005a000000000000000
00000000000000000000000000000005989a78859000089890079700079a5858000a0a00000000000a05000777989050898989a9898950a00000000000000000
0000000000000000000000000000000089808989a9005889800988000a79a9890000a7a007000900009000777789890799a8989a589800000000000000000000
0000000000000000000000000000000008009885900080080058980008a90a9005989a9a707099980800000989787a509a99a9a9898000000000000000000000
0000000000000000000000000000000005000050590000000585850000005050505989000707989a57a000009007a7050998909898a500000000000000000000
000000000000000000000000000000000000050508000000005a5007080a500505858000000009950a7a00090000a500588505098a5850000000000000000000
00000000000000000000000000000000000000500500000000a9a0750985050000585000000050a900a750505009800085595058000080000000000000000000
000000000000000000000000000000000000000000000000009a90005098900085750000000005000000850a05089000089a9850500000000000000000000000
00000000000000000000000000000000000000000000000007a97000a78980009889000000005050000008990055800057a9a905050000000000000000000000
0000000000000000000000000000000000000000000000000a7a80000a08000989500000000705000a70898505550000958a9890000000000000000000000000
00000000000000000000000000000000000000000000000000a8580000000008970500000070708505050858505050790958a900000000000000000000000000
00000000000000000000000000000000000000000000000000008980a000008775700000080708585850575578a557579a897000000000000000000000000000
000000000000000000000000000000000000000000000000580098989a0500585858000089807989a5a5757797057579a0000000000000000000000000000000
00000000000000000000000000000000000000000000000000850989a7a005858555000008a7a7a8500a58598000585800000000000000000000000000000000
000000000000000000000000000000000000000000000000000000758a00000585800000009a90aa000098589000058950000000000000000000000000000000
0000000000000000000000000000000000000000000000580000050050500050580000000009000a0000858585009898557a0000000000000000000000000000
00000000000000000000000000000000000000000000005585005000a5750905a900000000000897a00858557050598900000000000000000000000000000000
0000000000000000000000000000000000000000000005955a000000778700000000000000a78989a70085575705058000000000000000000000000000000000
00000000000000000000000000000000000000000000007985000000a5880080000000000a7a0090850000058757585a00000000000000000000000000000000
000000000000000000000000000000000000000000000797500000075850080800000000a8a0070858500000898985a000000000000000000000000000000000
0000000000000000000000000000000000000000000000800000007075009890000000000a587079a5a90008900888a700000000000000000000000000000000
000000000000000000000000000000000000000000000000000000585007898900000500005599979890000000709a7a70000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000500707890000555000585a8aa89000008980798a000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000805500000550000500008588000008a88850500000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000505050000055500000000585580088a8a8985000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000850a000000585000000000500508989789898000000000000000000000000000000000

