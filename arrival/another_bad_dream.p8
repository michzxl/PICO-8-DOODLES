pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--another bad dream
--by ???
t=0
ti=0
dt=1/30

cls()
::⌂::
ti+=1
t+=dt

for i=1,500 do
	x,y=rnd(128),rnd(128)
	p=pget(x-2*sgn(x-64),y)
	if p>0 and p~=7 then
		circ(x,y,1,p)
	elseif p==7 then
		circ(x,y,1,t%2+1)
	end
end

k=1/6
s={}
c={}
for i=0,6 do
	for a=0,1,k do
		a1=a+t/12
		a2=a1+k+t/8+i/8
		s[a1]=sin(a1)
		c[a1]=cos(a1)
		s[a2]=sin(a2)
		c[a2]=cos(a2)
	end
end
s[t/4]=sin(t/4)

for i=0,6 do
	cx=64
	cy=128/6*i
	cy=(cy-64)*(cos(t/16)/4+1/4+1)+64
	di=-abs(12*(i-3))+36-18
	ps={}
	for a=0,1,k do
		a1=a+t/12
		a2=a1+k+t/8+i/8
		sa1,ca1=s[a1],c[a1]
		sa2,ca2=s[a2],c[a2]
		if i%2==0 then
			d=32+di+c[a1]*16+s[t/4]*4
		else
			d=32+di+s[a1]*16+s[t/4]*4
		end
		
		add(ps,{
			cx+d*ca1,
			cy+d*sa1*(3/12+cos(t/16)/12),
			cx+d*ca2,
			cy+d*sa2*(1/6+cos(t/16)/12),
		})
		
	end
	for p in all(ps) do
		line(p[1],p[2]+1,p[3],p[4]+1,8)
	end
	for p in all(ps) do
		line(p[1],p[2],p[3],p[4],7)
		line(p[1],p[2]-1,p[3],p[4]-1,7)
	end
end

flip()goto ⌂
__label__
11111111111111122221121111111222222222222222282288282288888888888888888888888888288222222828888888818818822222882222228888888888
12112111111111122222111111112222222222222222228828828888888882888888888888888822222222282288288888888888228228828222288888888888
21221212211122222221122111122222222222222222282288888888888828228828882881182222222222222822828888888888882882182222228888888888
22222222222222222222222222222222222222222222222888288888818882282288228211212222222222222222282888288888888888888822222888888888
22222222222222222222222222222222221222222228218222828881181188822882822222122222212222222222228222188818888888888282222288888888
22222222222222222222122111122222211112222281882122211111111111182228222211222111121122222222222228828181888888888888822888888888
22222222222122222211211111111111111111121118111211111111121111111222212211111111111112221222222222281218888888888888888888888888
12222222221211221111111111111111121111111111881181111111112111111121121111111111211112112122228228222121818888888888828822288282
12222222222112111111211111111118812811111888818111111111121211111111111111111111122111111222222222121211118888828282882222221822
22222228821281811112121118118181182188122288221182111111111111111111111111211112221111112128222221211111211282222222828222222128
12212288818118188121221282881812222222222222222222221171111111111111111122121111111111211881822111811118812222222222282222221222
22111188881811881112122128218222222222222222222222212221111111112111212211211111112222111118188288188188888182222222222222222222
11811888881181118811111282122222222222222222222822222222111121211222221111111111122222221121181888888888888818828182882122222222
18188118818111111111111888282222222227222222222222222221218212112122212111111112212222212212818188888888888888211818811212222222
11881188111888118811111182822222222222222222222282272282127771721222227271721172128282121121111188288888888881181181181112222222
11818881881181888121118828222222222222222222227828818111277777227227777787881811281881111111111182828888888812118811111111212222
11188888111111112211111882182222222222277217278111181887777812822127777888888118118811111711211228222218118221211111111111112122
11818811112111111121118288222822222222777181111111118887788181211228888812281181181181111772122222221121112112111111111111111211
21182212121221111111112822288288222222777218128111121888881111111222222222221111221277188872222221881111111111111111111121111811
12222222222211211111111221188882222227882722888887212111111111122222222222221221882882828888282288888111111111111111111212888281
21222222222222112111112112218222222288827222228777821888881782828228222227872222787727272777728818881111111111121112221228888828
12112122222222121111211221221222222288882722272777777788888888888888882288788827777277777777722181111111111111111112822282288288
21221212222211211111121112112122222888887277727777777788888888888888872828888788777777777778821111111111122111111822222228222822
21111111211112111111212211211222288288882727777777788888828882888888888888888887877777778882211111111211222221288282222222282822
11111111111121111111121122222222828888888277777888828288288222228882822882887778877778881222122111111122222112122822112222221228
21112111111111111111111212211222282228822288888222222822222222222222222228222882818881112211112121111211222211112121111222212188
22222221122111111111111111111122122212222222222221222122122222222222221222222221111111211111111211111112222111112212112818822881
22222211111111111111111111111212211121111211221212111111211111222212212122222211111111111111212121111111111112222222122282222288
22222221121211111111111111111121112111111111112111211121111111111111111222222121111111111121121211212111111122222221212222222888
22222222111111111112111181118888881888111111111121111221111111121111111221221211118122121111212112121111111222222222111222222288
12112111111111112111211818888888118111111111111111112212112121212222212112112112182222212112111111211111121122112111111222222228
11111111111111121222118288888881811111118111112811811221122272728228221221121222222222222121221122222211211211211111112222222222
11111111111111112222281888888888111181881811828182182122222227882882222112112222777777777272227277222222122122812112112222222222
11111111111111122222218828822221111818888188882222212222222277277777777777777777777777772722222878728222222288881821121222222222
11111111211211182228821282222118118181118888228277777777777777777777777777777777888888888288288888888882222822888882212222222222
11121122122112118888818112211111881811122777777777777777777777778888888888888888882881888187777877777777728288888882282282212122
11212212211221181188881121881118188188277777777777888888888888888888818888882288211818111217777777777777772827222822818811111212
21222121122222211828888218888181222822777877777788881881112822888818181288818822121111111118887777777777777272222222281881118128
22222222212222222222882882888882222277777777788821111111111211111181111111188181211111111111118888877777777777272222228118888881
22222222222228222222828828888882272777777788872212211111111111111111111111111811111111111111111111188888877777777772282811118118
22282228812882882288288288888828277777888877727772211111111111111111111111111111111111121111111111111111188877777777772221111111
88888888288288228828882882888882877888828877777777771271121112111222112221211111111112211111111211121171177777888887772212881121
88888812828282222288888822882228888888888888877777777727777127272227777277777771111121221171122721227777777788228288882228828212
82882881282222222228818222222222288888888888888888777277777777777777777777777771122122772727772277777777788822272828228822882222
88221222822222222222181122222222222288828888822877888777777777777777777778888882727277727277727777777888822822228222222288282822
82822222212122222222211111222222222222222882222277777777777777788888888882227222772727272777777777888282282222221222222888828888
28222222222288822222221111118222222222222222821877777888888888822222228822222727722227777777777888282828828822118188828888888188
82822222222222822222211111888822822222282222211188888228222222222222888222772277222277777778888888822828181811811888881888811818
88282222222222212221121118228822222282828228821888882282222222222282822222722222722277778888888888888281111121122128818188188188
22882222222222211112111121122222222828882888882888822828822222222222222222222288282888888888888881888811111211211212282111118888
22222121212212121121222212211112222288288228828288822282222222222222222222222222888888888888888118188811111111111122221111111888
22122211121111211112112222122122222222822222282882222222222222222222222222222222888888888888181881881111111111111111212211111118
22222112112111111111111122222221222222222222228222222222222211222222222222222228228288288888811118818111111111111111222121111111
21221111111111111111111112222112122122222222222222222222122111111221221222222222222222828888881111181112111111111221221221111111
12112122211111211111111112111221121222222222222222222221211111111111112122222222222222288888818111121221111112122222122222111111
11211222221222221211121221111111212222122222222222222222112111112221111212222222222222121128281121112212118221282222112212211282
12122222222222222122222112112288288228222822227272277722221227222222212121122222222222222111112222122221121822811211121121128828
11211222222222222221222221222222828888888222277722777777772777777272772211217777777777222127722222212222212282122112112211811282
88818128822222222222122222222222288888888822778282877777777777777777777777777777777727222272272222222222222827277221722122212122
88888888888822222222212222222222782888282727788827777777777777777777777777777788888882872222722222222222221277772282777222222288
88888828888882822221227222227228277277777777777777777777777777788887777777777777777777777277222222227222222778728828887272222282
88888882888888282722272272222777777777777777777778888888888888888888888888888877777777777777777777772222227787882288828828722228
88888888888882777777227227222777777788888778888888181111811888188818888811111888888888887777777777777777777778887872288888822722
81888888888881777777777777777788888882777781888181111111111818811181118111111211111188118888888888877777777777777778888888888278
18111881881111888888777777777777777777777818111111111111112182111111111111122121111111118818118118888887788887777778828877777782
81888122121111122212888888888877777777777777777777711111111222222111111212212211111111111881111112111877828288777777777777777782
88818222221221212272888888112888888888787777777777777777777772221221122112221121111111112121211111217777777777777777777788888882
28182222222222222222888821822222828888888888888888877777777777777777777121122211111111212777777777777777777777888888888888822888
12222222212222222228288222222288222288222822888888888888888887777777777777777727777777777777777777777788888888888888888888888888
21122222822222222222822222828888822882888282882888888888888888888888877777777777777777777888888888877888888888888888888888888888
12222222228222222222222222282888272227872722222278872777277777777777777777777778888888888888888887778882222288888888888888888888
12122222222288228822222222228222222727727272727777777777777777777777788888888888882888288888882777788228882888888888818888888888
21221222222188888888172227222222727272777777777777777777778888888888882828882222222222727822277777882188888288222821181888888888
12222222228811888881811872727277777777777777777788888888888888882222222822822222222272277272777778211811882882822212111818888888
22221228288881112118111182282777777777888888888881811111111222222222222222222222227227272727777788828188888228222221811181881881
18281111818811111111111111221888888888112112111111121121111122222222222222222222722772722277888888888888882222122118111118118118
88811111181111881811111112111111111111111111121211282212212212222272222222228888278788828288828882818888288282211811881881881888
88881111111118188181111111111111111111111111222122828821822222222228222822288888888888882888882881888888888828288188888888888888
18888111181111888881111121122111111112112112222227888888282882822822282222888888888177777788228822288288888882888888888888888888
81111811888118188888888812222121121121221822822888122882228888888222222222882277777777777777772222222821888888888888828888888828
11111111188811828888888222222212222212212288288227272722227828877222227277777777777788888888887822277212188888888828288888882282
11111181111181182882882822222727227227222822822727777222222282277777777777777788888882888888888888788721228888828222888882888222
11818118118111822777777777777777777727727727222278777222722777777777777788888882828882882288888888888272228888282228288818888222
81181111111111121777777777777777777777777777777777777777777777777777778822722772778228222222882288282228288282222222881821122222
11111111111111212888888888888888887777777777777777777777777777777777777777777777777777777777777777777228888882282281118811211228
81111111811812122222722782827278888888887777777777777887778888888888777777777777777777777777777777777777777777777777778888118188
18111111181111222222777278277777777777777777777777777777777777777777777777777777777777888888888888888777777777777777772888881888
81111111812812882227777772777777777777778888888888888777777777777777777777777777777788888888888828888888888888888888888228888888
11111111111228228277777777777777778888882272828722828888888777777777777787777777777728828888888888288888888888888888882888888881
11111111111112882888887777778888882222222827227227277777777777777788888888888777788888888888888888888888888888888888882288181888
11111111111111111111888888882128222882228877872277777777777888878882888888888887778888888888888888888888888888828828822221111182
21111111111111111118188828888882888888888888882277778888888888888888888288882888877728888888888888888888888888282282822221111818
11111112111111211881888888888888888888818888888288888228828888888888822888782227887777888888888888888888888788822222282288181181
11112811111112228818881888888888888888181188888181182222282288288288288888828277888877788288888888888888818882888222828888811112
11128181111111221281181828888888828888811181881111121222222222888227822227282728788888722821888888888888888888888888888888811111
11111811111111882888818888888888882888888118111111112112222128888822722222227272788888888218188888881881188888888888888888111111
11111821118118888888888888888888888888888811181111811111218282888288882222222828888888881811888888888818818888888888188111111118
81188111181881888888888888888888888888888881818818888181888828888888888888218888888188888188188888888888188188888888888881111111
18811811118188188888188888888888888888188188188118888888888888888888888888181888881811111811888888888888881888888888888888111111
81181111118888818888888182288888888882818811811888888888888888888888888888818888888888111181888888888888888888188888888888881881
11111111111881888811811222222828881828221121181128882888888888888888888888888888888888118128888882828888888881888188888888888881
11111111181118888181121122282282288282222212222222228288888888888888888888888888888888821282888888282888811811111811882888888888
18811111111888888888212222828882888811221122222222222228222288888888888888882888888888822222888888888888181111122118188888822888
81111111118888888888828222288288888111111112222222222222222288888888888888888828888888882222888888888888811818828821828888288288
18811811181888888888888822888882222221111111222222222222222222888228888887777282882828828288888888888181811188888888228822822888
88888888118888888888888888888888222777277217772227222222222222222222887777777727778772282888888888888818188188888882888888828288
88888888888888888888888888888882882777777777772722222272277772722222777778888877777777727288888888288888888888888888888888888888
88888888888888888222288888888888822888777777777772727772277777777777777888887888888887772882888828828888888888888888888888888888
88888888888888882822228222288888222222777777777777777777777777777777777777777777777777777778222288288888888888188188888888888888
88888888888888882222222222222288222227777777777777777777777777777777777777777777777777777772272222888888881811811188888888888888
88888888888888822222222222222222222222777777777777777777777777778888887778888888888888888882828888888888818111111811888888888888
88888888888888822222222222222222222228888888888888888877777777777778888888888888888888888888888888881188881811888118188888888888
88888888888888282222222222222222222221182181122288877777788888777777777788888888888888888888888888888818888811888881888888888888
88888888888888228882222228282228822822818112222277777788888888888887777777777882888888888822888888888888888888888888888888288888
88888888888812822882222222822222282228281222777777788888888888888888888877777777788888882282228888888888888888888888888882822228
88888888818111221228211122222222222222272727777778888888888888888888888888887777777788888828828888888888888888888888228228222222
88888181181111112112111112122222828822728277778881188888888888888888888888888888877788888888888888888888888888888888222222222222
88881811111111111111111111222182288888888888881111881188888888888888888888888888888888888888888888888888888888888888822222228822
88811111111111111111111111221811888888888888888188111118111118888888888888888888888888888888888888888888888888888888882228888881
11111111111111111111118811121182118888888888888888111121111111882282778888888888888888888888888888888888888888882828228288888811
11111111111111111111188181111818888888888888888181111112111112222222272888888888888888888888888888888888888888822882282822822821
11111111111188111111818811181188188888888888181111181118181122222222222282888888888888888888888888888888888888888222228222212221
11111181118818181181188188818888888888888811111121888828818282828828222228888888888888888888888888888888888888882822222222222282
11111818888181188888888888888888888888888111111212818888888888888888882888888888888888888888888888888888888888888222822222222828
81811881888818888888888288888888888888888111111121288888888888888888888888888888888888888888188888888118888888882288888222222282
18188818181188888888888828888288888288881818888182888888888888888888888888888888888888888811888888811111188888888888888822822222
88888111111118888888888882822888888888888188888888888888888888888888888888888888888888888888888888888111818888888888888888882228
18811111111181888888828822222288888888888888888888888888888888888888888888888888888888888888888888888888188888888288888288822282

