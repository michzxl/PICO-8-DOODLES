pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
-- hey!
-- move the mouse cursor around!

function sqr(a) return a*a end
function dist(x1,y1,x2,y2) return sqrt(sqr(x2-x1)+sqr(y2-y1)) end
function show_cpu(c1,c2) cp=flr(stat(1)*100) rectfill(0,0,12+4*#(tostr(cp)),6,c2) print("∧"..cp.."%",1,1,c1) end
function nsin(a) return (sin(a)+1)/2 end
function ncos(a) return (cos(a)+1)/2 end
function tan(a) return sin(a)/cos(a) end
function drw_mouse(x,y) spr(0,x,y) end
poke(0x5f2d, 1)--enable mouse
p={}
for i=1,#p do
	if p[i]~='' then
		pal(i,p[i],1)
	end
end

░=1000
dt=0.0333
t=0
w=2
count=sqr(2*w+1)

cls()
::♥::
--cls()
t+=dt
mx,my=stat(32),stat(33)

for i=1,10 do
	x,y=rnd(128),rnd(128)
	c=rnd(24)
	circ(x,y,1,c)
end

for i=1,400 do
	x,y=rnd(128),rnd(128)
	sum=0
	for ox=x-w,x+w do
		for oy=y-w,y+w do
			sum+=pget(ox,oy)
		end
	end
	circ(x,y,1,sum/count)
end

for i=1,300 do
	x,y=rnd(128),rnd(128)
	ang=atan2(x-mx,y-my)
	ang=ang+t/8
	d=3
	c=pget(x-cos(ang)*d,y-sin(ang)*d)
	circ(x,y,1,c)
end

flip() goto ♥
__gfx__
01000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17771000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17777100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17711100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01171000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
