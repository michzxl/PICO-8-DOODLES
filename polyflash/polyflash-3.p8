pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
█=1000
d⧗=0.0333
⧗=0

rmax=45
n=3
pen=32/n
_c=cos(0.5/n)
rmin=rmax*_c

tv=.05
t=0

p={10}
for i=1,#p do
	if p[i]~='' then
		pal(i,p[i],1)
	end
end

--triangle wave, w/ period 1
function tri_wave(x)
	return abs((x+.5)%1-.5)
end

--n-gon
function shape(ang)
	a=rmax*cos(0.5/n)
	b=cos(tri_wave(n*ang-0.5-t/2)/n)
	return a/b
end

function stats()
	print(flr(100*stat(1)).."%★"
  .."\n"..aba
		,0,0,7)
end

function close(a,b,thresh)
 return abs(a-b)<thresh
end

-->8
cls()
::⌂::
n=3+sin(t/5)+1
rectfill(0,0,50,10,0)
rmax=45+sin(⧗/8)*15
⧗+=d⧗
t+=tv

if t%2<0.25 then
	pal(1,rnd(1)<.5 and rnd(15)+1 or 128+rnd(15)+1)
end

--aba=flr(█+2800*abs(tv))
aba=900
for i=1,aba do
	ang,r=rnd(1),rnd(rmax+pen)
	x,y=cos(ang)*r,sin(ang)*r
	
	sr=shape(ang)
	if r<sr then
		a=16*(sin(⧗/20)+1.5)*2
		c=y/16+x/16+t
		c=flr(c)
		c=c+1/8*(y/12-x/4+t)
		c=c%8+8
		c=c%5
		
		c=c-(x+y)/16
		if t%2<1 then
			c=c%2
		end
		
	elseif close(r,sr,2) then
		c=0
	else
		c=0
	end
	
	circ(x+64+((t%1)*32-16),y+64+cos(t/8)+8,1,c)
end

stats()

flip() goto ⌂
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
77707700707000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70700700007000777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77700700070077777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70700700700007777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77707770707007000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77707770777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00707770777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000007070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000076707000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000707676000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000077660600000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000007666060000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000066667600000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000760666666200000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000006000072766622220000000000000000000700000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007262222227000000000000000000070000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000072222422272000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000002077724440727207000000000000000007000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000707774444222270700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000020077744444422727070000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000202474444444427277700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000202020744444424272777774000000000070000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000007072704474444442427777747400000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000707244444444444747777074000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070444444444444473777744003000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000204044444443437337477444330300000000000000000700000000000000000000000000000
00000000000000000000000000000000000000000000000000000040444444434443333744443333030000000000000007000000000000000000000000000000
00000000000000000000000000000000000000000000000000000404544444444443333444344333333000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000070555444444444433334444434333333000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000205555444444443433344444443333330000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000554444444444333344444433333330300000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000700050544444444444433444444443333333030000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000505444444444444344444444433333343400000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000055444444444444444444444433333434040000000000000000000000000000000000000000000
00000000000000000000000000000000007000000002000000404544444444444444444444343344344403000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000050040045444444444444444444443333334444430300000000000000000000000000000000000000000
00000000000000000000000000020000000000000000000000544444444444444444444433333344444343000000000000000000000000000000000000000000
00000000000000000000000000200000000000000000000000044444444454444444444443334444444433330000000000000000000000000000000000000000
00000000000000000000000000000000000000000500000000054444444545444444444443343444444333303000000000000000000000000000000000000000
00000000000000000000000000000000000000505000000400544444454554444444444433334444443303330000000000000000000000000000000000000000
000000000000000000200000000000000000000000004004544444444454444444444433333f4444443330300000000000000000000000000000000000000000
00000000000000000000000000000000000000000004000545444444555444444444443333ff4444433033030000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000045444444545454444444444333ff44443333303300000000000000000000000000000000000000000
000000000000000005000000000000000000000000000004444444545444444444444333fff444443333333ff000000000000000000000000000000000000000
0000000000000000500000000000000400000000000000404444454554444444444433ffffff44443333333fff00000000000000000000000000000000000000
00000000000000000000000000000040400000000000004444545454544444444443fffffffff333333f3feff0e0000000000000000000000000000000000000
00000000000000000000000000000005000000000400044445454445454444444444ffffffffff33333ff0fe0e00000000000000000000000000000000000000
000000000000000000000000000000000000000000044444445454445444444444f4ffffffffff3333f3ff0ee000000000000000000000000000000000000000
0000000000000000000000000000000000000000005044454555454444444444444ffffffffff3333f3feee0e000700000000000000000000000000000000000
00000000000000000000000000000000000055000004054455555454444444444f4ffffffffeee33f3fffe0e0e07000000000000000000000000000000000000
000000000000000000000000400000405040550000004445555455444444444ff4fffffffeeeeee33fffefe0ee00e70000000000000000000000000000000000
000000000000000000000000000005545400554000044454555544444444440ffffffffffeeeeeeffffffefee0ee0e0000000000000000000000000000000000
00000000000000000000000000005545400004444044450545444444444440f0ffffffffefeeeeffffffefeeee0ee00f00000000000000000000000000000000
0000000000000000000000000000005000004044040500505444444444f44f0ffffffffeeeeeeefffffeeeeeeeeee0f0f0000000000000000000000000000000
0000000000000000000000000000000000000004404050055444444444f00ffffffffffeeeeeeffffeeeeeeeeeeeee0f00000000000000000000000000000000
000000000000000000000000000000000000000044040555554444444f0000ffffffffffeefffffefeeeeeeeeeeee0e000000000000000000000000000000000
0000000000000000000000000000000000000004444044555034444440f00fffffffffffffffffefefeeeeeeeffefe0e00000000000000000000000000000000
000000000000000000000000000000000000000440040300000444440000f0ffffffffffeffffffefeee0ee0efffefe000000000000000000000000000000000
00000000000000000000000000000000000000000000000000004000000f0f000ff0000eeffffff000e0000e0000f00000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000fe0000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0e0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000f00000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000e0000e00000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

