pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function sqr(a) return a*a end
function dist(x1,y1,x2,y2) return sqrt(sqr(x2-x1)+sqr(y2-y1)) end
function show_cpu(c1,c2) cp=flr(stat(1)*100) rectfill(0,0,12+4*#(tostr(cp)),6,c2) print("∧"..cp.."%",1,1,c1) end
function nsin(a) return (sin(a)+1)/2 end
function ncos(a) return (cos(a)+1)/2 end
function tan(a) return sin(a)/cos(a) end
function drw_mouse(x,y) spr(0,x,y) end
function xset(x,y,c)
	sset(x,y-1,c)
	sset(x,y+1,c)
	sset(x-1,y,c)
	sset(x+1,y,c)
end
poke(0x5f2d, 1)--enable mouse
p={}
for i=1,#p do
	if p[i]~='' then
		pal(i,p[i],1)
	end
end

fills={
	0b1111111111111111,
	0b1111101111011111,
	0b0111111011111111,
	0b0111101111011011,
	0b1110101111010111,--tacks
	0b0111101011010101,--fishbone
	0b1100001101000011,--longboard
	0b1000001010000010,
	0b0000000000000001,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000000,
	--0b0000000000000000,
}

░=500
dt=0.0333
t=0

cls()
rectfill(0,0,128,128,7)
::♥::
--cls()
t+=dt
--mx,my=stat(32),stat(33)

for i=1,500 do
	x,y=rnd(128),rnd(128)
	
	--c=c%3
	--c=c+(y-t*8)/16+x/8
	c=sin(sin(x/36)/24)
	 	+ceil(x/32)+flr(x/64)
		+ceil(y/36)+flr(y/64)
		+flr(x/16) 
		+y/13
	   + (sin(t/16)+2)*(sin(x/32)+sin((y+t)/64))
	   - t
	c=c%(#fills)+1
	xset(x,y,c)
end

for i=1,500 do
	x,y=rnd(128),rnd(128)
	w=0
	sum=0
	ct=sqr(w*2+1)
	for xa=x-w,x+w do
		for ya=y-w,y+w do
			sum+=sget(xa,ya)			
		end
	end
	ss=sum/ct
	
	fillp(0b1111111111111111
		-fills[flr(ss%#fills+1)])
	circ(x,y,1,7)
end

--sspr(0,0,128,128)
flip() goto ♥
__label__
77777777777777770777777077770777777707770777077007707770770007700000770077007000070000007070000000700000700000007777077707777777
70777077777777707077707770777777707770777077707770770077007070777070007700770070000000070000000000000000070000077777777777777077
77770707777777777707770777077777770777777707770777000700070777077000770007007000000000000000000000000000000000777777770777777777
77777077770777777777707777777777707770777077707700070077007007070077007000700077000000000000000000000000000000077777777777777777
77777707707077770777077707770777077707770777077777077700770777700000770077007000000000000000000000000000000000707777777707777777
77777070000777707070777777707770707077707077707770770077007070700070007700700070000000000000000000000000000000077077707770777777
77777700000777777707770777777777770777777707770707000700070777007000770007007070000000070700000000000000000000000707770777077777
77777070000777777777707770777077777777777077707700770077000707770070007700770077000000000000000700000000000000007777777777777777
77770707000777777777077707770777777707770777077007007700770707707000770077007000000000000000000000000000000000000777077707777707
77777000007777777777707770777077707777707770707770700077007070707070007700770000000000000000000000000000000000007777777077777070
77777700007777777777770777077777770777777777770777007700770777077700770007007000000000000000000000000000000000077777770777077707
77777000007777777777707770777777707777777777777700770070077707070077007700700077000000000000000700000000000000077777777777777777
77777770077777777777077707770777077707770777077707007700777007777000770077007000000000000000000000000700000000007777777777777777
77777707077777777770707770777770707777707777707070770070007070700070007700700000000000000000000000000000000000077077707070777777
77777770777777777777770777077777770777077707770777000700770777007000070007007000000000000000000000000000000000077707770777077777
77777777777777777777707770777077777770777077777707770077007707770770007000700007000000000000000000000000000000007777777777777777
77777777777777777777077777770777077707770777077007707000700707000000700077007000000000000000000000000000000000070777077777777777
70777777777770777770707770777770707770777077707070770077007770700070007000700000000000000000000000000000000000707077777070777777
77077777777777077777770777077777770777077707770777000000700077077000700070007000000000000000000000000000000000070707777777777777
77777777777777777077707707777777777770777077077700770070007000070707007000770007000000000000000000000000000000700777777777777777
77777777777777770777077007770777777077770777777077007000770077700000700070000000000000000000000000000000000000007077077707770777
70777077707770777077707770777077707777777077707700700070007700700000007000000000000000700000000000000000700000070077777077707077
77077707770777777707770777777707770777077707770707007000700707000000000070000000000000700000000000000000000000707707777777777707
77777777777777777077070707770777777707770777070700000070000000770077007000070000000007070000000000000000000000777777707770777777
77777777777777770770777777707777077007707770777770007000700077000000700000000000000007707077000070000000000707777777077707777777
70777077777777707777707070707077707070777077707700700070007000700000000000000000000070777777000700700000000700777770707770707077
77777707777777777707770777077707770777077707770070000000000000000000000000000000000777777777700077770000000070077707770777077707
70777777777777770777070707770777070707770707077000700007000700700000000700000000007077777777707077700000000707777777777700777077
07770777077707700777070007700707077707700777077070000000000070000000000000000000000777777777770777770000007777777777777007777777
70777770777070777070707700707077707070707077007000000000000000000000000000000000077777777077007007777000777770707077707070777077
77077777777777077707700007077707070777077700000000000000000000000000000000000000777777777770700000077777077777777707770777077707
00777077777770770777077700070707007707070707700000070000000000000000000000000000777777777777070707777777707777777777077707770077
77770777077707700770070077070777070007077707700000000000000000000000000000000007777777777777777077777777777777777770777007707770
70777077707770700077007700700070707700770077007000000000000000070000000000000077707770777077707770707077777770777077707070777077
77077707770777077700770077007707700000000700700000000000000000000000000000070707777777077707770777777707777777077707770707077707
07770077700707770770007000700000007700770007007000000000000000077000000000007077777770777077777770777077777777777007000700070777
77770777777707707700000070007700700000007000000000000700000000000777707000077777077707770777077777770777077707770707700777077777
00707077707770700000000000000000000000000000000000000000000000000777777070777770777770777077777770777777707770777070007700077077
00077707770777007000000000000000000000007000000000000000000000000777777707777777777777077707777777077707770777077700000000007707
00770707070700070007000700070007000700070000000000000000000000007777777777777777777707777077707770777077707777770077007000000007
70000777077077007000000000000000000000000000000000770000000000070777777777777777077777770707077707770777077777707700700077007777
00700070007700770070000000000000000000000000000000000000700007707077777777777077707770777070707770777077707770777077007000770070
00007700770007077000000000000000000000000000000000070077770070077707777777077707770777077707770777077707770777070700700070000000
00770777077700770007000700000007000000070000000000077777777700707777777777777777707707070707007707777077707707070000000000700077
77007770077077000000000000000000000000000000000000777777777770000777777777777777077077707770777007777777077007707700700070007000
00700077007000700000000000000000000000000000000070777777777707000777707770777077707770777077707070777070707770700000007000000070
00000700070007007000000000000000000000000000000007077777770070000707770777077777770777077707770777077707770777077700000000007700
00070077007700700000000000000007000000070000000070777777770707707077777777777777077707070707777777777077077707070077000700000770
70007700770077000000000000070000000000000000000707777777777077770777777777777777077007077707077707777770777077777000000000007000
00000077007700700000000000000000000000000000000077777777707777007077707770777770707770777070707070707077707770700070000000000077
70007000700000000000000000000000000000000000000077777707770770707707770777077777770777007707770777077707770777077000000000000000
00700077007700700000000000000000000000000000000007777777777777077777777777777777700707770777077707070777077707070070000700000077
77007700707070070000000000000000000000000000000007777777777777770777777777770777070707707770777707777770777007770000700000000700
00770077077000700000000000000000000000000000000077777777707777077777707770707777707070770077707070777077707770700000000000000070
70000700000070000000000000000000000000000000000707777777777770707707770777077777770777077707770707077707770777007700700000000700
00770077007000770000000000000007000000070000000077777777777777007777777777777777070707770707077700770777077707770070007700700077
70007000700070000000000000000000000000000000000007777777777707000777777777777777777707770777777007707777777007777000700070007000
00770077007700000000000000000000000000000000000007777777777770707077707770777070707070700077707070777077707770770077000000700077
70000700070000000000000000000000000000000000000070777707770777077707770777077777770777077707770777077707770777070000700000007000
00770077007700700000000000000007000000000000000707777777777777007777777777777777770707770777007707077777707707070070007000000070
70007700770077000000000000000000000000000000000077777777777770700777777777777770777077707770077077777777077777077700700070007700
00770077007700700000000000000000000000000000000007777077770777000077707770777070707770707077707770707077707770707070000000000070
00000700070007000000000000000000000000000000000000707777707077007707777777077777770777077707770777077707770777077000000000007000
00770070007700700007000000070000000000000000000000077777770777777777777777777777700707070777077700777077777700000077000700000070
70000000770070000000000000000000000000000000000000777777777777770777777777777777077777770770777007700770777007077000000000000000
00700077007000700000000000000000000000000000000777777077777077707777777070777777707770707077707700707077707770700070000000000070
70007700000070000000000000000000000000000000000777777707777777777777770777077777770777077707770077077707770777077000000000700000
70770070007000070000000000000000000000000000000077777777777770777777777777777777070707070707077707070777077707000070000000070070
70007700770070000000000000000000000000000000000007777777077707000777777777770777777707770777777077777770777777077000000000000000
00770077007700000000000000000000000000000000000070777070707770007077707770777770007070707070707070777077707770700000000000000070
70000700700000000000000000000000000000000000000707077707770770000707777777077777770777077707770777077707770077077000000000000000
00070070007700000000000000000007000000000000000070777777777700000777777777777777070707770777007707770777077707000007000700070077
00007700700000000000000000000000070000000000000707777777777770077777077777770777777777000070777007770777777007070000000000000000
00000070007000000000000000000000707000000000000070707770777770707070777077707077707700700070007070777077707000770000000000000000
00007000700000000000000000000000070000000000000777077777770777077707777777777707770007007707770707077707770777007000000000000000
00000070000700000000000000000000000000000000007777777077777777777077777777777077070700700007077700070707070707700000000000000007
00007000700000000000000000000000000000000000007777770777077777770777077707770770077077007700077707770777077707707000000000000000
00000070000000000000000000000000000000000000000770707770777070777070777077777077707700770077007070707070707070700000000000000000
00000000000000000000000000000000000000000000007077077777777777077707777777777707770007000700770707077707770777000000000000000000
00070007000700070000000000000000000000000000000707777777777777777077707777770077077700770077077700070707070700770000000000000007
00000000000000000007000700000000070000000000007077770777077777700777077707770777770070007700077070007777070777000000000000000000
00000000000000000007707000000000000000000000007777707770777070777070777070777077707700770077007070770070707700700000000000000000
00000000000000000070700070000000000000000000077777777707770777777707770777077707070070007000700070000707770000007000000000000000
00000007000700000007000700000000000000000000077777777077777777770777707770777077007700000070077000770007007700700000000000000000
00000000000000000007000070000000007000007000077777777777077707707777077707770770770077007700700077007700770070000000000000000000
00000000000000000000707777700000777707070077777777707077777777707077707770777077007700700070007700700077007700000000000000000000
00000000000000000007777777770007777777700707770777777707777777077707770777077707070000007700070000007700070000000000000000000000
00000007000000000700777777770000777777777077777770770077777770770777707777770707007000700077007700700077007000000000000000000000
00000000000000000070777777777070777777777777777707770770077707777777777077700777070070000000770070007000700070000000000000000000
00000000000000007777777777777777707777777777777770777077707770777077707770777070007000000000007000000077007000000000000700000000
00000000000000070777770777777777770777777777770777077707770777077707770777077700000000000000770000007000700070000000000000000000
00000000000000007777777777777777777777777777777770770777077700777777077707770777007700070007007700000007077700070000000000000000
00000000000000000777777707777777777777777777077707707770777007770777077077700700700000000000000070007000000000000007707700700000
00000000000000007077707070777777777770777077777070777070707770777070707070700077000000000000007000000070000000000007077777070000
70000000000000707707777777077707770777077777777777077707770777000007770777000700070000000000000000000000000000000070707770707000
00000000000000077777707777777777777777777777777777070707070707770077070707770077007700000000007000070077000700000007077777000700
70000000000000777777777707777777077707770777077707770770077777707000077007707000000000000000000000000000000000000777777777070000
77000000000077077777707077777077707077707770777770707070007070777077007000770070000000000000000000000000000000077077707777707000
77000000000700777777770777777707777777777707777777077700070077077700070007000000700000000700000000000000000000777777770777777700
77700000007777777777777777777077707777777077777707070777007707770077007700770000000000000000000700000000000000077777777777777777
77770000077777777777077707770777077707777777077707777700770007707000770077007000000070000000000000000000000000007777777707777777
77777707077777777770707770777770707777707077707070777077007000700070007700700000000000000000000000000000000000007077777077777077
77077770707777777777770777077777770777777707770777007700770077070000770007007000000000000000000000000000000000077707777777777707
77777777077777777777777770770777777707777077700700770077007007070077007000070007000000000000000000000000000000707777777777777777
77777777777777770777077777770777777707770777077777007700070707700000000070007000000000000700000007000000000000770777077707777777
70777077777770707077707770707770707770777077707700770000007770770070007000000000000000070000000007000000000000077070777070777770
77077707777777077707770777077777770777077707770000007700700000000000700000000000000000707000000070000000000700077777770777077777
77777777777777777077077707777777077707770777077700770070007700770000007700770000000077770000000000000000000070077777707770777777
07777777077707777770770707700770077777777770777070000700700000000000700000000000000777777700070007000070000707777777777707770777
77777770707077777070707070707077707770700070007000000000000000000000000000000000000777777770777700707000000070777077707770777770
77077777770777077707770777007707770777007700770000000000000000000000000000000000007777777770777077770000000777077707777777077777
00777777777770770007070707770777070707077777077700000000000700000000000000000000007777777707070707770000070777777777707770777777
07770777077707770777070007707700077707770770070000000000000000000000000000000000707777777770000077777007007777770777077007770777
77707070777770777077007000707077707070707070007700000000000000000000000000000077077777777777700070777770777777707777707070777777
77777777770777070700000077077707070777077700770000000000000000000000000000000000777777077777770777077707077777777707770777077777
77777777707700700777077707070707077007070707077000070000000700000000000000000000077777777777777077777770777777777777007707777777
77770777077007777777077007770770077077777777770070000000000000000000000000000000777777777777770707777777777777770777077077707777
70777077777077777070707700777077007070707070007000000000000000000000000000000007077770777777777070777777777770707777707770777077
77077777777777777700770777070707700777077700770070000000000000000000000000000000777777777777777777777777777777077707770777077707
00777777777777770777070707070777007707070777007700070007000000000000000000000007777777777777777777777770777777770777707700777777
07770777077707777770070007777770770707770777770000000000000000000000000000000007777777777777777777777777077777770770777007770777
70707770777077777077707000700077707070707070707000000000000000700000000000000000707777707777777777777770077770777077707770777070
77777777770777077707770777077707070777077707770007000000000000000000000000000000770777777777707777777700007777077707770777077777
77777077707777770777070700070777070707070707000700700007007000700007000000070000777777777777770777777070007707777077777777777077
07770777077707777777070707770770777707777777770770000000000070007000000000000000777777777777777077777000000070770777777707777777
77707070777077777070707770707077707070777070707070700000000000000000000000000007777770777777770707770000000700777077707770777770
77777707777777777707770777007707770777077707770700000000000000000700000000000000777777077777700077707077007077777707770777077777
77777777777777777007007707770777070707070707077000070007000700700007000000000007777777777777070077770777777777777777007707777077

