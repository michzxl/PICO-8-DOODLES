pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function sqr(a) return a*a end
function dist(x1,y1,x2,y2) return sqrt(sqr(x2-x1)+sqr(y2-y1)) end
function show_cpu(c1,c2) cp=flr(stat(1)*100) rectfill(0,0,12+4*#(tostr(cp)),6,c2) print("∧"..cp.."%",1,1,c1) end
function nsin(a) return (sin(a)+1)/2 end
function ncos(a) return (cos(a)+1)/2 end
function tan(a) return sin(a)/cos(a) end
function drw_mouse(x,y) spr(0,x,y) end
poke(0x5f2d, 1)--enable mouse
p={}
for i=1,#p do
	if p[i]~='' then
		pal(i,p[i],1)
	end
end

fills={
	0b1111111111111111,
	0b1111101111011111,
	0b0111111011111111,
	0b0111101111011011,
	0b1110101111010111,--tacks
	0b0111101011010101,--fishbone
	0b1100001101000011,--longboard
	0b1000001010000010,
	0b0000000000000001,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000000,
}

░=500
dt=0.0333
t=0

cls()
rectfill(0,0,128,128,7)
::♥::
--cls()
t+=dt
--mx,my=stat(32),stat(33)

for i=1,750 do
	x,y=flr(rnd(128)),flr(rnd(128))
	ss=sget(x-1,y-1)
	d=dist(x,y,128,128)
	if d>128+28 then
		if rnd(1)<1 then
			sset(x,y,1)
		end
	elseif ss>0  then
		k=rnd(1)<0.12 and 1 or 0
		sset(x+1,y,(ss+k-1)%15+1)
		sset(x-1,y,ss)
		sset(x,y+1,(ss+k-1)%15+1)
		sset(x,y-1,ss)
		sset(x+2,y+2,(ss+2*k-1)%15+1)
	end
end

for i=1,250 do
	x,y=rnd(128),rnd(128)
	w=1
	sum=0
	ct=sqr(w*2+1)
	for xa=x-w,x+w do
		for ya=y-w,y+w do
			sum+=sget(xa,ya)			
		end
	end
	ss=ceil(sum/ct)
	
	--ss=sget(x,y)
	--ss=x/16+y/16
	
	fillp(0b1111111111111111
							-fills[flr(ss%#fills+1)])
	circ(x,y,1,7)
end

--sspr(0,0,128,128)

flip() goto ♥
__label__
77777777777777777777777777777777777777777777077777777777777777777777777777777777777777777777777777777777777777777777777777777777
70777077707770777077707770777077707770777070777070777077707777777777777777777777777777777777777777777777777777777777777777777777
77077707770777077707770777077707770777077777777777077707770777777777777777777777777777777777777777777777777777777777777777777777
77777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777777777777777777777777777777707770777077707770777077777777777777777777777777777777777777777777777777777777777777777777777
70777077707770777077707770777077707077707770777070707770777770777777707777777777777777777777777777777777777777777777777777777777
77077707770777077707770777077707777777777777777777777777777777077777770777777777777777777777777777777777777777777777777777777777
77777777777777777777777777777777777777777777777777777077777770777777777777777777777777777777777777777777777777777777777777777777
77777777777777777777777777777777777777770777077707770777077007770777077707777777777777777777777777777777777777777777777777777777
70777077707770777077707770707770777777777770777077707077707077707777777077777777777777777777777777777777777777777777777777777777
77077707770777077707770777077777777777777777777777777707770777077707770777077707777777777777777777777777777777777777777777777777
77777777777777777777777777777777777777777777777770777077777777777777707770777777777777777777777777777777777777777777777777777777
77777777777777777777777777770777077707770777077707770777077707770777077777770777777777777777777777777777777777777777777777777777
70777077707770777077707777777770707770777770777070777770777777707777707770777077777777777777777777777777777777777777777777777777
77077707770777077707770777077777770777777777770777077707770777777707770777077707770777777777777777777777777777777777777777777777
77777777777777777777777777777777777777777777707770777777707770777777707700777077707777777777777777777777777777777777777777777777
77777777777777777777077707770777077777770777077707777777077707777777077707770777077777777777777777777777777777777777777777777777
70777077707770777077777077777777777077707770777070707070707777777770707770777077707070777777777777777777777777777777777777777777
77077707770777077707777777077707770777777777770777077777770777777777770777077707770777777777777777777777777777777777777777777777
77777777777777777777777777777777777777777777777770777777707777770077777770777077707777777077777777777777777777777777777777777777
77777777777777777777777777770777777707770777077707700777077007770777077007700777077707770777777777777777777777777777777777777777
70777077707770777077777070707777777077777077777770707770707770777077707070777077707770777077707770777777777777777777777777777777
77077707770777077777777777777707777777777707770777077777770777077707770777077707770777077707770777077777777777777777777777777777
77777777777777777777777777777777777777777077777770777777707707770077077700770777707777770077707777777777777777777777777777777777
77777777777707777777077707770777777707770777077707770777077007700777077077707777777707770777077707777777777777777777777777777777
70777077707777777770777077707770707077707077707777707070777070777077777770707077707770777077707777777777777777777777777777777777
77077707770777777777777777777777770777777707770777777707777777077707770777077707770777077707770777077777770777777777777777777777
77777777777777777777777777777777707777777777777770777777777777770077707777770077007770777777007770777777777777777777777777777777
77777777777777770777077707770777077707770777077707770777077707700770077707777777077077770770777077770777777777777777777777777777
70777077707770777070777077707070777077777777707770777077707770777077707770777077707770777077707770777070777777777777777777777777
77077707770777077777777777077777777777077777770777077707770777077707770777077707770777077777770777077777777777777777777777777777
77777777777777777777777770777777777770777777707777777077707777070777707777070777077707770077077770777777777777777777777777777777
77777777777707770777077707777777777707777777777707707777077777700770077777707770777077700770777077777777077777777777777777777777
70777077707077707077777770777077707070777077707770707077707770777077707770777077707770707077707770777070777777777777777777777777
77077707777777777707777777077707770777077707770777077707770777077707070777077707770777077707770777077707777777777777777777777777
77777777777777777777777777770077707777777777070770777077777700777077007777777077707700770777077707770777777777777777777777777777
77777777777707770777077707770777777077770770077777777777077777700770077707777777077077707770777077707777777777777777777777777777
70707777777077707770707077707777707770777077707770777077707770777077707070777077707770777077707770777077707770777077777777777777
77777777777777777777770777777707770777077707770777077707070777070700070777077707770777077707770777077707770777077707777777777777
77777777777777777077707777777077707770770777070707777077070707770077007777777777707707770707077777770007077777770777777777777777
07770777777707770770777707770777077707777777777007770770077007707700777707770777777707707777777777707707077777777777777777777777
77707770707077707077707077707777707770777077707000707070707070707077007077777077707770777077707770777077007770707077707770777777
77077777777777777707770777077707770777077707770077077707770777077707770777777707770777070707770777077700770777777777770777077777
77777777777777777777707770777777777700770077077700777077077770770707077777777777777770777777077700777077007700777777777777777777
77770777077707770777077707770777777707707700077707000777777007700777077007700770077707770770777007770770070707770777777777770777
77707770777077707777707770777777707770777077707077777077707070777077707770707777707770777077707070707070707770707777707077707077
77777707777777777777770777077707770777077707770707077707770777077707770777077777770777077707770777070707770777777707770777777777
77777777777777777777777770770777007700777077007770777077070700777777770707077070007777777007070707070077070700770777777777777777
77770777077707777777077707770777777007700770770077770777777007770777770707770770077007770770777707777770077777700777077777770777
70777770777770707077777070777777707770777077707070777077007070707070707070707077707770777077707770700077707770707770777777777777
77077777770777077707777777077707770777077707770777077707770077077777770777770777770777777707770770007707770777077707770777777777
77777777777770777077707777777777070700777777077700770777777700770077707707077077707777777077077707770777070707770077707777777777
77777777077707770777077707770777077707707777777077707770077077000777077707777707077777770770777077777770077007707770077707770777
70777077777077707077707077707770707070707070707770777077707700777070777770777070707770770070707770777077707070777077707070777770
77077707777777777707770777777777770777077707770777077707770070070707770777077707770777077007770777077707770777077707777777777777
77777777777777777777777777777777707777770777077770770777070707070707077700770077707707070007070777770077077777770707007770777777
77770777077707770777077707770777077707700770777077707777777077077770077077700770077007770777777007707770077007777770077707770777
77777770777777707770777070777770777777777077707770777077777777770077007770777077707070777077007770707077707000777077707077707777
77077777777777077777777777077777770777777707770777077707777777000700770777007700700777077707070077077707700077007707770777077707
77777777777770777777777707777777777777770077777770770077777777770007000700700707070707770777070700770707070700770007007770777707
77777777077707700777077707770777077077770777777077700770077707770707770777007007777707777770777777007777777777007770070707770077
77777077707077777077707077777770707070707077707770777070707770700077007070700077707770777077007000777077007700777077707770777777
77777777770777077707770777777777770777077707770777077707770777077707770777070007770700070707770007007707770000007700770077077707
77777777707770770077077777777777707770070077070707770777070777770077000700707007077000700777077700770707077700770070000707070777
77777777077707707777077707770777077707770770777707770770777707770777770700007007777707007770770007700777077077007770700070007707
77777070707777777077707770777770777777777077707770777077707770707777007700000070707770707077707000700077707070700077007700700070
77777707770777077707770777077777770777777707770777077707770077077707770770007000770777077700770777007700770770000000700000007000
77777777777770777777077700770777707777777777077707777077077707770707770707770007070007070777077000770070007007700007007700000007
77777777777777777777077077777777777707707770777007777770077070700777077007007777000077070770700000007700770007707000000070000070
77777077707077777770707770777070777777707077707700707070707000000000707770707070700000007070007700700077007070700000000000700000
77777707770777777707770777077707770777777707770777070707770007077707770077077700070070007700070070007700000077070007770070000700
77777777777777770777777707077707707777770077077707770077707707000777770700770077070000070770077707000707007007770000007700770070
77777777777777770777777077770777077707770770777777707700777077770770777777000700707007000770707007000000070077007707070770000000
77777777707770707777707770707770707770777077707770777077707700700070707770700070007000770070007700700000007000700077007700000007
77777777770777777707777777077777770777077707770077077707770777000007770707077707000007000700700007007007070077007000770000000000
77777777777777777077777777770777077777777077007707000007000707070007070700777077000000700070000007070000000707700070000000000007
77777777777777770777777707777777077707770777777707077777077707777000700007077707000077007000700070707000000007700000000000000000
77777777777770707077707770777070777770707077707070770077707770707077007000770070000000000000000700000007007000700070000000000077
77777777777777077707770777077707770777077700770777077707770777077707000007000707700070007000700700000007070077007700700000000007
77777777777777777077777707770707077770770777070707070000070777070777700700000070007700700000007700770000007707770700000000070007
77777777777777777777777707700777077707700770070777770707077777777707000000070770070070007000000707707700000700770000700700000077
77777777777770777070707070777077777077777070007700770077707770777077000000700077707700700000000770777077007070707077000700770070
77777777777777077777770777007707777777077707770007007700070707077707770707000000070000000000000077000700070070077000000000070007
77777777777777777777777700770777007770770707077000770077077770770777777707770007000700700000000707070077000707070077000700700077
77777777777777770777077707700777070007777770700070000770770777707700777707707000700070007000000077700700700000007700070000007070
77777777777770777770707770770070707070707770007000770077007700777007007770770000000000700000000000000077007000070070000000770077
77777777777777077777770777000707770777007700700707007707070077077700700077070000000077007000770000007700000070007000070070007007
77777777777777777777707770770077707777770777077700700007007700770707007700777707000000770070000000700070007000070777007000770077
77777777777777777777077707777707077007700770077007007700707077700700077700070770000077000000700000000000700070000000700077000007
77777777777777777077777770707070007070777077707007770077007000707077707700777070700700770070000000000000000000000000000700700000
77777777777777777707777777077707700077077707770777077700700077070707770070077707770007000700000070000000000070000700000007000000
77777777777777777777777770777777007707770777077707770077070707070707070700700077007700070077000700000007000000700077000000070007
77777777777777777777077707770777070777700700777077707700777770077777777077000070070000000000700000000700000070000700000000000000
77777777777777777777777077707770707770700070707770777077007070777077707700700000000000700000000000000070700700700000000000000077
77777777777777777777777777777777770707077707770777077707070700007707770777000000000700070000000000000707070000007007000000007707
77777777777777777777777777777777070707077707077707777777000000770007070707070000000000000000007000000007007700000777000000000077
77777777777777777777777777770777777707777777770077770777777070000000770077777000700707000000000000000000000770007077000000000707
77777777777777777777777770707777707070777070707770707777700000070077007700770000007070700000000000000000007070700077000000000077
77777777777777777777770777077777777777777707770777077777770000000000770707000000770077007000000000000000070777007000070007000007
77777777777777777777777777777777077770777777777707077707077007070070070700070007000700770070007700000000000707700077007000700000
77777777777777777777777777770770077707770777077777777777777007770700707777000000000077007000077770007000000007707700070007000000
77777777777777777777777770777077707077707077707770770077707070700070000070070070000000770070077000000000000000700070007000000077
77777777777777777777777777077707770777777707770777077707770007000700700000000000000007070700077700000000000000000700770007000007
77777777777777777777777777777077707777777077777700777777070707070000000000000070007700070007007000770007000000770000007700770007
77777777777777777777777777777777077777770770077007777770070707770000000700000000000007000000070000007700000007007700770077007007
77777777777777777777777770777777777070777070707770777070707070707070000000000000000000000000007000700070000000707070007000700007
77777777777777777777777777077777777707077707770777077707770077070000700000000000000000000000770000007000000007000000700070007000
77777777777777777777777777777777077700777077077707777777077700770077007000070007000000000007070700000070007000700000000700000007
77777777777777777777777777770770777007770777007007777770077007007000070000000000000000000000070070007007700070000000770000000070
77777777777777777777777777777770707070707077707070770070707070770070007000700000000000000000007700700070707000000000007007000007
77777777777777777777777777777777777777077707770077070707770777000700000000000000000000000000070007007000000077000000070070000007
77777777777777777777777777777777700700770007077007770007077707770077007000000007000000000070000700070700000700770000007000700070
77777777777777777777777777777777077707707707707077077700777077077700770070000070700000000000000077700700700077000000000077007000
77777777777777777777777777777777777077707077007070707077707070777077007700000007070000000000000000000070700000000070000000700070
77777777777777777777777777777777770777077700700000007707770777077700070007007700777000000000000000007700700070007000000007000707
77777777777777777777777777777777707707770770000000700707070707770007007700000000077707000000000000070077000700000770070700000077
77777777777777777777777777777777777077770770770070000770007707707700770070007000077777000000000000000700000070007000700070007770
77777777777777777777777777777777777770777070007000700077007700777077007000700000007070700000000000000070007700700007000000000077
77777777777777777777777777777777777777077700070077007700770007007707770007070000000777000000000000000700070007077700070000000007
77777777777777777777777777777777777777777707007000770000077700770707070707770700077007070700000000000007000777070077007700770077
77777777777777777777777777777777777777777777777777077700000077007070077777700070000000700070000000000000000077700007000077700000
77777777777777777777777777777777777770777777777770777070007700770070007770070000007007700770700000000000007000707070000000000000
77777777777777777777777777777777777777077777777777070007070707000700070707077007070070777707770000000000000007077700000000000007
77777777777777777777777777777777777777777777777707770077007000770070070700770077700707007777770000000000000000000007007700000007
77777777777777777777777777777777777777777777777777770070070777007707770077707000700000000777770000000000000000007000700000000700
77777777777777777777777777777777777777777777777777707077007070770070007070707077707700000070000000000000700000700000000000700070
77777777777777777777777777777777777777777777777777777700770700000000770707077007770070000000700070000000070070070000700007077707
77777777777777777777777777777777777777777777777777777777000700770070007700070707000707070077070700770070000700000707777700077777

