pico-8 cartridge // http://www.pico-8.com
version 29
__lua__

function ff(y)
	local ay
	if (y+t*32)%64<8 then
		ay = 4*sin(t/8)-4
	else
		ay = 0
	end
	return ay
end

function line2(x1,y1,x2,y2,c)
	local num_steps=max(
	 abs(flr(x2)-flr(x1)),
	 abs(flr(y2)-flr(y1)))
	local dx=(x2-x1)/num_steps
	local dy=(y2-y1)/num_steps
	for i=0,num_steps do
	 pset(x1,y1,c)
	 x1+=dx
	 y1+=dy
	end
  end

function fflr(a,unit)
	return a\unit*unit
end

function perp(x,y)
	return -y, x
end

function norm(x,y)
	local d = dist(x,y,0,0)
	return 
		x / d,
		y / d
end

function dist(x1,y1,x2,y2)
	return sqrt((x2-x1)*(x2-x1) + (y2-y1)*(y2-y1))
end

cc={0,5+128,7,5+128}
for i=1,#cc do
	pal(i,cc[i],1)
end

t=0

cls()
::♥::
cls()
t+=1/30

pos = -t*16

-- GENERATE THE LINES
unit=5+sin(t/16)*2
ox=64
lines = {}
for y=pos%unit-1-16,128+unit,unit do
	x = ox + 4*sin(t + y/32)
	y = y + 4*sin(y/32 + t)

	
	x = x + sin(t/16)*16 * sin(t/16 + y/64)

	add(lines, {
		x,y,x+8+ff(x,y),y+8+4*sin(t/4),
		x,y,x-8-ff(x,y),y+8-4*sin(t/8)
	})
end

-- DRAW THE LINES
for key,ln in ipairs(lines) do
	-- ARROW SHAPE: /\
	line2(ln[1],ln[2],ln[3],ln[4],7)
	line2(ln[5],ln[6],ln[7],ln[8],7)

	-- CONNECTING LINES BETWEEN EACH ARROW
	if key~=#lines then 
		ln2 = lines[(key+1)]
		line2(ln[1],ln[2],ln2[1],ln2[2],7)
		line2(ln[3],ln[4],ln2[3],ln2[4],7)
		line2(ln[7],ln[8],ln2[7],ln2[8],7)
	end
end

flip() goto ♥
__label__
00000000000000000000000000000000000000000000000000000000700000700707000700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700077000700700700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700700000070700700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000077000000070070070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000000070007070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000000070000770000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000000777000770000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000077070700077000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000700070700007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007007000700070007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007070000700007007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007700077070000707000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007007770007000077000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007777070000700070700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007070007000070007700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000077770000700070000700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000777007000070007000700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000077777000700070000700700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000707007000700007000070700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000007770007700070000700007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000077700007070007000070007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000770000000707000700007070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000700000000707000700007700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000007000000007770700070770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000007000000070070070007000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000700000700007007070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000700007000007707070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000700070000000700700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000077700000000770700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000070000000000077070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000070000000000070770000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000007000000000077770000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000700000000700777000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000700000007000707000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000070000077000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000700000077700000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007007000000007770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000770000000000770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700000000000777000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000000007777700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007000000070077700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007000007700070770000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000700070000070077000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000700700000707077000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077000077007007700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000070007777000700700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000070777700700070070000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007077000700007007000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077770700070007007000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000777700700007000707000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007777770070000700070700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000777070707007000700007700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007707700077000700070007700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007070000070700070007007700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007700000070070070000770000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000077000000070007007077700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000000007000700700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000000777000700700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000007007700077000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000070007070007000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000700007007007000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007007000000700707000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007070000000700700700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700000000700070700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700000000700007700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700000007770000700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700000070077000070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700007700070700070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070070000070070070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070700000070070070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000077000000070007070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000000070000707000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070000000777000077000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007000007700700007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007000770700700007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007007007700070007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007077777700007000700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007770770070000700700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007707070007000070700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000077770070000700070700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007777700007000070007700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000077777070000700070000700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000777770007000070007000700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000007770707000700070000707000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000077007007700070007000077000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000700770000770070000700007000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000707000000770007000707770000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000770000000707000700770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000007700000000070700077000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000007000000000070070070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000700000000707007070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000700000007000707700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000070000070000770700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000070007700000070070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000070070000000007070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000007700000000007770000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000007000000000000707000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000700000000000077000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000000000777700000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000000007007700000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000000070007700000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700000700000770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700077000000777000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000070700000000077000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007000000000070700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007000000000777070000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000700000077070770000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000700000700700707000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000070007077070070700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000070077770007007700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007770770007000770000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007777007000700070000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077777007000070077000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000777700700700007007000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007770700700070007000700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000777000700070007000700700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007700007070007000700070700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000077000070077007000700007000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070007700070700700070077000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070070000070070070007700000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070700000007070007770000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000077000000007007007000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000070000000007000707000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000000077000077000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000000707700007000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000007000770007000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000070000707000700000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000700700000707000700000000000000000000000000000000000000000000000000000000

