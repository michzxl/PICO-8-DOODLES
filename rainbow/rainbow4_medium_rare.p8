pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	t,dt,tf=0,1/30,0

	medium_rare = {
		3+128,
		1+128,
		1,
		2+128,
		8+128,
		8,
		14+128,
		15+128,
		15,
		7,
	}
	pal(medium_rare, 1)
	
	cls()
end

function _update()
	t+=dt
	tf+=1

	ct8=cos(t/8)
	ct16=cos(t/16)
	k=48 + 8*ct16

	for i=1,1200 do
		ox,oy=rnd(128),rnd(128)
		
		x=ox+32*ct8
		y=oy+32*ct8

		c=(dist(x,y,0,0)%k
		 	+dist(x,y,128,128)%k
		)/8 - t*4
		
		circ(ox,oy,1,ctriwave(c, 6, 8.8, 16))
	end
end

-->8
function dist(x1,y1,x2,y2)
	return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))
end

-- "complex" triangle wave, range [center - amplitude/2, center + amplitude/2]
-- to visualize -> https://www.desmos.com/calculator/lbicgo2khe
function ctriwave(x, b, a, p)
    return 2 * a * abs((x / p - 0.25) % 1 - 0.5) - a / 2 + b
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
